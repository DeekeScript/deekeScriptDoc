import{d as b,r as S,o as v,i as u,w as y,c as L,m as C,u as R,a as T,b as x,p as E,R as k,e as I,f as D,C as q,s as H,g as M,h as P,t as O,j as F,k as N}from"./chunks/theme.DmEsGR88.js";const V=b({setup(n,{slots:e}){const t=S(!1);return v(()=>{t.value=!0}),()=>t.value&&e.default?e.default():null}});function _(){u&&window.addEventListener("click",n=>{const e=n.target;if(e.matches(".vp-code-group input")){const t=e.parentElement?.parentElement;if(!t)return;const o=Array.from(t.querySelectorAll("input")).indexOf(e);if(o<0)return;const c=t.querySelector(".blocks");if(!c)return;const a=Array.from(c.children).find(i=>i.classList.contains("active"));if(!a)return;const s=c.children[o];if(!s||a===s)return;a.classList.remove("active"),s.classList.add("active"),t?.querySelector(`label[for="${e.id}"]`)?.scrollIntoView({block:"nearest"})}})}const $=/language-(shellscript|shell|bash|sh|zsh)/,j=[".vp-copy-ignore",".diff.remove"].join(", ");function U(){if(u){const n=new WeakMap;window.addEventListener("click",e=>{const t=e.target;if(t.matches('div[class*="language-"] > button.copy')){const o=t.parentElement,c=t.nextElementSibling?.nextElementSibling;if(!o||!c)return;const a=$.test(o.className),s=c.cloneNode(!0);s.querySelectorAll(j).forEach(i=>i.remove()),s.innerHTML=s.innerHTML.replace(/\n+/g,`
`);let r=s.textContent||"";a&&(r=r.replace(/^ *(\$|>) /gm,"").trim()),G(r).then(()=>{t.classList.add("copied"),clearTimeout(n.get(t));const i=setTimeout(()=>{t.classList.remove("copied"),t.blur(),n.delete(t)},2e3);n.set(t,i)})}})}}async function G(n){try{return navigator.clipboard.writeText(n)}catch{const e=document.createElement("textarea"),t=document.activeElement;e.value=n,e.setAttribute("readonly",""),e.style.contain="strict",e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="12pt";const o=document.getSelection(),c=o?o.rangeCount>0&&o.getRangeAt(0):null;document.body.appendChild(e),e.select(),e.selectionStart=0,e.selectionEnd=n.length,document.execCommand("copy"),document.body.removeChild(e),c&&(o.removeAllRanges(),o.addRange(c)),t&&t.focus()}}function z(n,e){let t=!0,o=[];const c=a=>{if(t){t=!1,a.forEach(r=>{const i=h(r);for(const l of document.head.children)if(l.isEqualNode(i)){o.push(l);return}});return}const s=a.map(h);o.forEach((r,i)=>{const l=s.findIndex(p=>p?.isEqualNode(r??null));l!==-1?delete s[l]:(r?.remove(),delete o[i])}),s.forEach(r=>r&&document.head.appendChild(r)),o=[...o,...s].filter(Boolean)};y(()=>{const a=n.data,s=e.value,r=a&&a.description,i=a&&a.frontmatter.head||[],l=L(s,a);l!==document.title&&(document.title=l);const p=r||s.description;let m=document.querySelector("meta[name=description]");m?m.getAttribute("content")!==p&&m.setAttribute("content",p):h(["meta",{name:"description",content:p}]),c(C(s.head,X(i)))})}function h([n,e,t]){const o=document.createElement(n);for(const c in e)o.setAttribute(c,e[c]);return t&&(o.innerHTML=t),n==="script"&&e.async==null&&(o.async=!1),o}function B(n){return n[0]==="meta"&&n[1]&&n[1].name==="description"}function X(n){return n.filter(e=>!B(e))}const g=new Set,w=()=>document.createElement("link"),W=n=>{const e=w();e.rel="prefetch",e.href=n,document.head.appendChild(e)},J=n=>{const e=new XMLHttpRequest;e.open("GET",n,e.withCredentials=!0),e.send()};let f;const K=u&&(f=w())&&f.relList&&f.relList.supports&&f.relList.supports("prefetch")?W:J;function Q(){if(!u||!window.IntersectionObserver)return;let n;if((n=navigator.connection)&&(n.saveData||/2g/.test(n.effectiveType)))return;const e=window.requestIdleCallback||setTimeout;let t=null;const o=()=>{t&&t.disconnect(),t=new IntersectionObserver(a=>{a.forEach(s=>{if(s.isIntersecting){const r=s.target;t.unobserve(r);const{pathname:i}=r;if(!g.has(i)){g.add(i);const l=E(i);l&&K(l)}}})}),e(()=>{document.querySelectorAll("#app a").forEach(a=>{const{hostname:s,pathname:r}=new URL(a.href instanceof SVGAnimatedString?a.href.animVal:a.href,a.baseURI),i=r.match(/\.\w+$/);i&&i[0]!==".html"||a.target!=="_blank"&&s===location.hostname&&(r!==location.pathname?t.observe(a):g.add(r))})})};v(o);const c=R();T(()=>c.path,o),x(()=>{t&&t.disconnect()})}function A(n){if(n.extends){const e=A(n.extends);return{...e,...n,async enhanceApp(t){e.enhanceApp&&await e.enhanceApp(t),n.enhanceApp&&await n.enhanceApp(t)}}}return n}const d=A(O),Y=b({name:"VitePressApp",setup(){const{site:n,lang:e,dir:t}=F();return v(()=>{y(()=>{document.documentElement.lang=e.value,document.documentElement.dir=t.value})}),n.value.router.prefetchLinks&&Q(),U(),_(),d.setup&&d.setup(),()=>N(d.Layout)}});async function Z(){globalThis.__VITEPRESS__=!0;const n=te(),e=ee();e.provide(k,n);const t=I(n.route);return e.provide(D,t),e.component("Content",q),e.component("ClientOnly",V),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),d.enhanceApp&&await d.enhanceApp({app:e,router:n,siteData:H}),{app:e,router:n,data:t}}function ee(){return P(Y)}function te(){let n=u;return M(e=>{let t=E(e),o=null;return t&&(n&&(t=t.replace(/\.js$/,".lean.js")),o=import(t)),u&&(n=!1),o},d.NotFound)}u&&Z().then(({app:n,router:e,data:t})=>{e.go(location.href,{initialLoad:!0}).then(()=>{z(e.route,t.site),n.mount("#app")})});export{Z as createApp};
