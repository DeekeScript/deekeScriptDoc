import{_ as a,c as n,o as e,ah as i}from"./chunks/framework.Dgl5HHys.js";const h=JSON.parse('{"title":"基础权限","description":"DeekeScript - 基础权限","frontmatter":{"title":"基础权限","description":"DeekeScript - 基础权限"},"headers":[],"relativePath":"access/access.md","filePath":"access/access.md"}'),p={name:"access/access.md"};function l(c,s,r,t,o,b){return e(),n("div",null,s[0]||(s[0]=[i(`<h1 id="基础权限" tabindex="-1">基础权限 <a class="header-anchor" href="#基础权限" aria-label="Permalink to “基础权限”">​</a></h1><p><code>一直以来，Android在权限上面做了很多变化，并且有逐步收紧的态势。包括国内各大厂商也是绞尽脑汁限制APP申请各类权限。Android权限一直以来都被滥用、或者非法利用，导致用户权益严重受损，甚至财产安全也得不到保证。DeekeScript作为RPA领域的后来者，也深知保护用户的隐私的重要性，同时大量的权限申请也会严重影响用户体验，基于此两方面。我们只提供尽可能少的权限！</code></p><p>DeekeScript权限主要划分为2种，一种是必须用户授权的权限（这类权限通常不需要开发者进行判断，框架内部会自动判断是否开启，未开启则提示用户开启）；另外一类则是可选权限（根据需要提醒用户是否授权），比如图色识别，这类权限需要开发者进行判断，如果代码执行需要开启但是未开启则提醒用户开启。</p><h2 id="无障碍权限" tabindex="-1">无障碍权限 <a class="header-anchor" href="#无障碍权限" aria-label="Permalink to “无障碍权限”">​</a></h2><blockquote><p>重要等级：必须</p><p>无障碍权限是DeekeScript必须权限，因为DeekeScript是基于无障碍应用，因此用户必须开启。无需开发者提醒用户开启。用户运行对应任务的时候，系统会自动提醒用户开启</p></blockquote><h2 id="悬浮窗权限" tabindex="-1">悬浮窗权限 <a class="header-anchor" href="#悬浮窗权限" aria-label="Permalink to “悬浮窗权限”">​</a></h2><blockquote><p>重要等级：必须</p><p>悬浮窗权限是DeekeScript必须权限，悬浮窗权限主要有5个作用：一是展示当前任务运行时间、二是作为关闭任务的开关（双击两次，间隔2-5秒）、三是保持屏幕常亮、四是后台启动其他APP应用、五是后台弹出弹窗。无需开发者提醒用户开启。</p></blockquote><h2 id="后台弹窗权限" tabindex="-1">后台弹窗权限 <a class="header-anchor" href="#后台弹窗权限" aria-label="Permalink to “后台弹窗权限”">​</a></h2><blockquote><p>重要程度：可选</p><p>后台弹窗权限在一些机型是必须的，否则可能无法从后台打开其他APP应用</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>if(!Access.isBackgroundAlertEnabled()){</span></span>
<span class="line"><span>    Dialogs.confirm(&#39;温馨提示&#39;, &#39;请开启后台弹窗权限&#39;, (result) =&gt; {</span></span>
<span class="line"><span>        Access.openBackgroundAlertSetting();</span></span>
<span class="line"><span>        System.exit();//关闭当前任务    </span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="图色权限" tabindex="-1">图色权限 <a class="header-anchor" href="#图色权限" aria-label="Permalink to “图色权限”">​</a></h2><blockquote><p>重要程度：可选</p><p>如果需要使用图片比对、查找，颜色查找、比对等功能，就需要开启此权限</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>if(!Access.isMediaProjectionEnable()){</span></span>
<span class="line"><span>    Dialogs.confirm(&#39;温馨提示&#39;, &#39;请开启屏幕截图权限&#39;, (result) =&gt; {</span></span>
<span class="line"><span>        Access.openMediaProjectionSetting();</span></span>
<span class="line"><span>        System.exit();//关闭当前任务    </span></span>
<span class="line"><span>    });</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="是否开启通知权限" tabindex="-1">是否开启通知权限 <a class="header-anchor" href="#是否开启通知权限" aria-label="Permalink to “是否开启通知权限”">​</a></h2><blockquote><p>重要程度：可选</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>let hasAccess = Access.hasNotificationAccess();</span></span>
<span class="line"><span></span></span>
<span class="line"><span>console.log(&#39;是否有通知读取权限&#39;, hasAccess);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if (!hasAccess) {</span></span>
<span class="line"><span>    Access.requestNotificationAccess();</span></span>
<span class="line"><span>    System.exit();</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>`,16)]))}const u=a(p,[["render",l]]);export{h as __pageData,u as default};
