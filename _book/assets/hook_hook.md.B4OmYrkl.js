import{_ as a,l as n,n as e,q as p}from"./chunks/theme.DmEsGR88.js";const d=JSON.parse('{"title":"Hook介绍","description":"DeekeScript - Hook介绍","frontmatter":{"title":"Hook介绍","description":"DeekeScript - Hook介绍"},"headers":[],"relativePath":"hook/hook.md","filePath":"hook/hook.md"}'),o={name:"hook/hook.md"};function i(l,s,t,r,c,h){return e(),n("div",null,s[0]||(s[0]=[p(`<h1 id="hook介绍" tabindex="-1">Hook介绍 <a class="header-anchor" href="#hook介绍" aria-label="Permalink to “Hook介绍”">​</a></h1><p>很多时候，开发者需要在APP运行过程中，加入一些自定义逻辑，比如在进入APP主界面的时候，拉取远程接口，获取一些初始化数据或者上报一些信息等，这个时候就可以使用hook来实现了。</p><p><code>hooks里面不仅仅可以编写短暂的逻辑，也可以编写持续保活的逻辑；如果需要关闭hooks，请使用Engines.closeHook()方法；使用其他方法，不会关闭hooks脚本。</code></p><h2 id="app启动界面hook" tabindex="-1">APP启动界面hook <a class="header-anchor" href="#app启动界面hook" aria-label="Permalink to “APP启动界面hook”">​</a></h2><blockquote><p>在deekeScript.json中配置hooks.app_start_before字段即可，这里可以做一些事情，比如：<a href="./../config/dynamics.html">动态设置首页功能模块</a>，每个<a href="./../config/dynamics.html">功能模块的设置参数</a>等。</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;hooks&quot;: {</span></span>
<span class="line"><span>        &quot;app_start_before&quot;: &quot;scripts/hooks/app_start_before.js&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="app主界面hook" tabindex="-1">APP主界面hook <a class="header-anchor" href="#app主界面hook" aria-label="Permalink to “APP主界面hook”">​</a></h2><blockquote><p>在deekeScript.json中配置hooks.app_start字段即可，进入首页后，将会执行配置的脚本。</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;hooks&quot;: {</span></span>
<span class="line"><span>        &quot;app_start&quot;: &quot;scripts/hooks/app_start.js&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="app激活hook" tabindex="-1">APP激活hook <a class="header-anchor" href="#app激活hook" aria-label="Permalink to “APP激活hook”">​</a></h2><p>可以在激活之后，刷新主界面功能图标</p><blockquote><p>在deekeScript.json中配置hooks.app_active_after字段即可，用户输入激活码，激活成功之后，将会执行配置的脚本。</p></blockquote><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>{</span></span>
<span class="line"><span>    &quot;hooks&quot;: {</span></span>
<span class="line"><span>        app_active_after: &quot;scripts/hooks/app_active_after.js&quot;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,13)]))}const b=a(o,[["render",i]]);export{d as __pageData,b as default};
