import{_ as i,c as a,o as e,ah as n}from"./chunks/framework.Ci1I5KI1.js";const o=JSON.parse('{"title":"App","description":"DeekeScript - App","frontmatter":{"title":"App","description":"DeekeScript - App"},"headers":[],"relativePath":"base/app/app.md","filePath":"base/app/app.md"}'),t={name:"base/app/app.md"};function p(l,s,r,h,k,d){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="app" tabindex="-1">App <a class="header-anchor" href="#app" aria-label="Permalink to “App”">​</a></h1><p>App对象提供了一些应用相关的数据获取能力，比如当前App的版本号、获取某个App的版本等。</p><h2 id="currentpackagename" tabindex="-1">currentPackageName() <a class="header-anchor" href="#currentpackagename" aria-label="Permalink to “currentPackageName()”">​</a></h2><p><strong>返回：</strong> <code>{string}</code></p><p>获取当前应用的包名，获取你当前开发的App的包名，比如在DeekeScript中执行这个函数，将获取到&quot;top.deeke.script&quot;</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentPackageName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//输出 top.deeke.script</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="currentversioncode" tabindex="-1">currentVersionCode() <a class="header-anchor" href="#currentversioncode" aria-label="Permalink to “currentVersionCode()”">​</a></h2><p><strong>返回：</strong> <code>{number}</code> 整型</p><p>返回当前App的版本号，这个在App更新的时候判断当前App的版本号时很有用</p><h2 id="currentversionname" tabindex="-1">currentVersionName() <a class="header-anchor" href="#currentversionname" aria-label="Permalink to “currentVersionName()”">​</a></h2><p><strong>返回：</strong> <code>{string}</code></p><p>返回当前App的版本名称</p><h2 id="packageinfopackagename" tabindex="-1">packageInfo(packageName) <a class="header-anchor" href="#packageinfopackagename" aria-label="Permalink to “packageInfo(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code> 包名</p><p><strong>返回：</strong> <code>{PackageInfo}</code></p><p>返回指定App的包信息，通过包信息你可以获取诸如&quot;版本号，版本名称&quot;等信息，可以遍历查看其属性和值</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> packageInfo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">packageInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top.deeke.script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packageInfo.versionCode); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 版本号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packageInfo.versionName); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 版本名称</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="gotointenturi" tabindex="-1">gotoIntent(uri) <a class="header-anchor" href="#gotointenturi" aria-label="Permalink to “gotoIntent(uri)”">​</a></h2><p><strong>参数：</strong> <code>uri {string}</code></p><p><strong>返回：</strong> <code>{void}</code></p><p>根据URI启动Activity</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//打开抖音用户主页  user_id是抖音的用户ID</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gotoIntent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;snssdk1128://user/profile/&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user_id);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="backapp" tabindex="-1">backApp() <a class="header-anchor" href="#backapp" aria-label="Permalink to “backApp()”">​</a></h2><p><strong>返回：</strong> <code>{void}</code></p><p>返回到执行脚本的APP</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">backApp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="launchpackagename" tabindex="-1">launch(packageName) <a class="header-anchor" href="#launchpackagename" aria-label="Permalink to “launch(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code></p><p>通过包名打开应用</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top.deeke.script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//打开DeekeScript</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="isappinstalledpackagename" tabindex="-1">isAppInstalled(packageName) <a class="header-anchor" href="#isappinstalledpackagename" aria-label="Permalink to “isAppInstalled(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code></p><p>判断应用是否已安装</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isInstalled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isAppInstalled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top.deeke.script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="getappversioncodepackagename" tabindex="-1">getAppVersionCode(packageName) <a class="header-anchor" href="#getappversioncodepackagename" aria-label="Permalink to “getAppVersionCode(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code></p><p>获取指定应用的版本号</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAppVersionCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top.deeke.script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="getappversionnamepackagename" tabindex="-1">getAppVersionName(packageName) <a class="header-anchor" href="#getappversionnamepackagename" aria-label="Permalink to “getAppVersionName(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code></p><p>获取指定应用的版本名称</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> versionName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAppVersionName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top.deeke.script&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openappsettingpackagename" tabindex="-1">openAppSetting(packageName) <a class="header-anchor" href="#openappsettingpackagename" aria-label="Permalink to “openAppSetting(packageName)”">​</a></h2><p><strong>参数：</strong> <code>packageName {string}</code> 包名</p><p><strong>返回：</strong> <code>{void}</code></p><p>打开某个APP的设置页面</p><h2 id="startactivityintent" tabindex="-1">startActivity(intent) <a class="header-anchor" href="#startactivityintent" aria-label="Permalink to “startActivity(intent)”">​</a></h2><blockquote><p>2.0版本即将上线</p></blockquote><p><strong>参数：</strong> <code>intent {Intent}</code></p><p><strong>返回：</strong> <code>{void}</code></p><p>根据intent启动Activity</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//跳转到目标APP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> intent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Intent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Intent.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ACTION_VIEW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Uri.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myapp://second_activity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startActivity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(intent);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="notifysuccesstitlecontent" tabindex="-1">notifySuccess(title, content) <a class="header-anchor" href="#notifysuccesstitlecontent" aria-label="Permalink to “notifySuccess(title, content)”">​</a></h2><p><strong>参数：</strong></p><ul><li><code>title {string}</code> 通知标题</li><li><code>content {string}</code> 通知内容</li></ul><p><strong>返回：</strong> <code>{void}</code></p><p>显示成功通知</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifySuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;操作成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;任务已完成&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="openurlurlpackagename" tabindex="-1">openUrl(url, packageName) <a class="header-anchor" href="#openurlurlpackagename" aria-label="Permalink to “openUrl(url, packageName)”">​</a></h2><p><strong>参数：</strong></p><ul><li><code>url {string}</code> URL地址</li><li><code>packageName {string}</code> 包名（可选，用于指定打开URL的应用）</li></ul><p><strong>返回：</strong> <code>{void}</code></p><p>通过指定应用打开URL，如果应用未安装则使用浏览器打开</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 通过抖音打开URL</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.douyin.com/user/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.ss.android.ugc.aweme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 如果抖音未安装，则使用浏览器打开</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">App.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openUrl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.douyin.com/user/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.ss.android.ugc.aweme&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,64)]))}const g=i(t,[["render",p]]);export{o as __pageData,g as default};
