import{_ as n,c as l,o as s,ah as i,j as e,a}from"./chunks/framework.BJ6Xb1OP.js";const u=JSON.parse('{"title":"选择器 - UiSelector","description":"DeekeScript - 选择器 - UiSelector","frontmatter":{"title":"选择器 - UiSelector","description":"DeekeScript - 选择器 - UiSelector"},"headers":[],"relativePath":"base/uiSelector/uiSelector.md","filePath":"base/uiSelector/uiSelector.md"}'),o={name:"base/uiSelector/uiSelector.md"};function c(r,t,d,h,p,b){return s(),l("div",null,t[0]||(t[0]=[i(`<h1 id="选择器-uiselector" tabindex="-1">选择器 - UiSelector <a class="header-anchor" href="#选择器-uiselector" aria-label="Permalink to “选择器 - UiSelector”">​</a></h1><h2 id="基本介绍" tabindex="-1">基本介绍 <a class="header-anchor" href="#基本介绍" aria-label="Permalink to “基本介绍”">​</a></h2><p>UiSelector 即选择器，用于筛选屏幕上的控件，再对控件进行点击、输入文本内容、长按等动作。这里需要先简单介绍一下控件和界面的相关知识。</p><p>Android中的界面是由一个个控件构成的，例如图片部分是一个图片控件(ImageView)，文字部分是一个文字控件(TextView)；同时，通过各种布局来决定各个控件的位置，例如，线性布局(LinearLayout)里面的控件都是按水平或垂直一次叠放的，列表布局(AbsListView)则是以列表的形式显示控件。</p><p>控件有各种属性，包括文本(text), 描述(desc), 类名(className)，是否可以点击（clickable）, id 等等。我们通常用一个控件的属性来找到这个控件，例如，想要点击某软件聊天窗口的&quot;发送&quot;按钮，我们就可以通过它的文本属性为&quot;发送&quot;来找到这个控件并点击他，具体代码为:</p><blockquote><p>获取控件后，即可对控件进行点击，滑动，输入文本等操作。控件操作请阅读 <strong><a href="./../uiObject/uiObject.html">控件操作</a></strong> 部分</p></blockquote><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//这里的sendButton就是一个控件对象，可以对控件对象进行各种操作</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simpleMode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 默认UiSelector不带参数，则为简单模式；如果simpleMode为false则为复杂模式（能查看到更多控件，包括系统控件，如：状态栏的WiFi、时间等）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sendButton </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UiSelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(simpleMode).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;发送&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//UiSelector(true) 和 UiSelector()是等同的</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendButton){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sendButton.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="id-name" tabindex="-1">id(name) <a class="header-anchor" href="#id-name" aria-label="Permalink to “id(name)”">​</a></h2><p><strong>参数：</strong> <code>name {string}</code></p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;id 等于字符串 name&quot;的筛选条件。【对应节点选择器中的viewIdResourceName】</p><h2 id="classname-name" tabindex="-1">className(name) <a class="header-anchor" href="#classname-name" aria-label="Permalink to “className(name)”">​</a></h2><p><strong>参数：</strong> <code>name {string}</code></p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;className 等于字符串 name&quot;的筛选条件。</p><h2 id="bounds-left-top-right-bottom" tabindex="-1">bounds(left, top, right, bottom) <a class="header-anchor" href="#bounds-left-top-right-bottom" aria-label="Permalink to “bounds(left, top, right, bottom)”">​</a></h2><p><strong>参数：</strong></p><ul><li><code>left {number}</code> 控件左边缘与屏幕左边的距离</li><li><code>top {number}</code> 上边距</li><li><code>right {number}</code> 右边距</li><li><code>bottom {number}</code> 下边距</li></ul><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;bounds范围&quot;的筛选条件。</p><h2 id="text-content" tabindex="-1">text(content) <a class="header-anchor" href="#text-content" aria-label="Permalink to “text(content)”">​</a></h2><p><strong>参数：</strong> <code>content {string}</code></p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;text 等于字符串 content&quot;的筛选条件。</p><h2 id="desc-content" tabindex="-1">desc(content) <a class="header-anchor" href="#desc-content" aria-label="Permalink to “desc(content)”">​</a></h2><p><strong>参数：</strong> <code>content {string}</code></p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;contentDescribe 等于字符串 content&quot;的筛选条件。【对应节点选择器中的contentDescription】</p><h2 id="clickable-canclick" tabindex="-1">clickable(canClick) <a class="header-anchor" href="#clickable-canclick" aria-label="Permalink to “clickable(canClick)”">​</a></h2><p><strong>参数：</strong> <code>canClick {boolean}</code> 是否可以点击</p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;clickable 等于 canClick&quot;的筛选条件。</p><h2 id="selected-isselected" tabindex="-1">selected(isSelected) <a class="header-anchor" href="#selected-isselected" aria-label="Permalink to “selected(isSelected)”">​</a></h2><p><strong>参数：</strong> <code>isSelected {boolean}</code> 是否已选择</p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;selected 等于 isSelected&quot;的筛选条件。</p><h2 id="checked-ischecked" tabindex="-1">checked(isChecked) <a class="header-anchor" href="#checked-ischecked" aria-label="Permalink to “checked(isChecked)”">​</a></h2><p><strong>参数：</strong> <code>isChecked {boolean}</code> 是否被选中</p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;checked 等于字符串 isChecked&quot;的筛选条件。</p><h2 id="enabled-isenabled" tabindex="-1">enabled(isEnabled) <a class="header-anchor" href="#enabled-isenabled" aria-label="Permalink to “enabled(isEnabled)”">​</a></h2><p><strong>参数：</strong> <code>isEnabled {boolean}</code> 是否可以交互（为false的时候表示禁用）</p><p><strong>返回：</strong> <code>{UiSelector}</code> 返回选择器自身以便链式调用</p><p>为当前选择器附加控件&quot;enabled 等于字符串 isEnabled&quot;的筛选条件。</p><h2 id="scrollable-canscrollable" tabindex="-1">scrollable(canScrollable) <a class="header-anchor" href="#scrollable-canscrollable" aria-label="Permalink to “scrollable(canScrollable)”">​</a></h2><blockquote><p>canScrollable {boolean} 是否可以滚动</p><p>返回 {UiSelector} 返回选择器自身以便链式调用</p></blockquote><p>为当前选择器附加控件&quot;scrollable 等于字符串 canScrollable&quot;的筛选条件。</p><h2 id="checkable-ischeckable" tabindex="-1">checkable(isCheckable) <a class="header-anchor" href="#checkable-ischeckable" aria-label="Permalink to “checkable(isCheckable)”">​</a></h2><blockquote><p>isCheckable {boolean} 是否可以选中</p><p>返回 {UiSelector} 返回选择器自身以便链式调用</p></blockquote><p>为当前选择器附加控件&quot;checkable 等于字符串 isCheckable&quot;的筛选条件。</p><h2 id="textcontains-content" tabindex="-1">textContains(content) <a class="header-anchor" href="#textcontains-content" aria-label="Permalink to “textContains(content)”">​</a></h2>`,51),e("blockquote",null,[e("p",{string:""},"content"),e("p",null,"返回 {UiSelector} 返回选择器自身以便链式调用")],-1),e("p",null,'为当前选择器附加控件"text 包含字符串 content"的筛选条件。',-1),e("h2",{id:"isvisibletouser-canvisible",tabindex:"-1"},[a("isVisibleToUser(canVisible) "),e("a",{class:"header-anchor",href:"#isvisibletouser-canvisible","aria-label":"Permalink to “isVisibleToUser(canVisible)”"},"​")],-1),e("blockquote",null,[e("p",null,"canVisible {boolean} 是否对用户可见（控件在屏幕上） 返回 {UiSelector} 返回选择器自身以便链式调用")],-1),e("blockquote",null,[e("p",null,"注意：因为它判断的是视图本身是否在布局层级中可见（被遮挡了，也会返回true）")],-1),e("p",null,'为当前选择器附加控件"isVisibleToUser 等于 canVisible"的筛选条件。',-1),e("h2",{id:"textmatches-content",tabindex:"-1"},[a("textMatches(content) "),e("a",{class:"header-anchor",href:"#textmatches-content","aria-label":"Permalink to “textMatches(content)”"},"​")],-1),e("blockquote",null,[e("p",{string:""},"content"),e("p",null,"返回 {UiSelector} 返回选择器自身以便链式调用")],-1),e("p",null,'为当前选择器附加控件"text 正则匹配 content"的筛选条件。',-1),e("h2",{id:"desccontains-content",tabindex:"-1"},[a("descContains(content) "),e("a",{class:"header-anchor",href:"#desccontains-content","aria-label":"Permalink to “descContains(content)”"},"​")],-1),e("blockquote",null,[e("p",{string:""},"content"),e("p",null,"返回 {UiSelector} 返回选择器自身以便链式调用")],-1),e("p",null,'为当前选择器附加控件"contentDescribe 正则匹配 content"的筛选条件。',-1),e("h2",{id:"descmatches-content",tabindex:"-1"},[a("descMatches(content) "),e("a",{class:"header-anchor",href:"#descmatches-content","aria-label":"Permalink to “descMatches(content)”"},"​")],-1),e("blockquote",null,[e("p",{string:""},"content"),e("p",null,"返回 {UiSelector} 返回选择器自身以便链式调用")],-1),e("p",null,'为当前选择器附加控件"contentDescribe 正则匹配 content"的筛选条件。',-1),e("h2",{id:"filter-callback",tabindex:"-1"},[a("filter(callback) "),e("a",{class:"header-anchor",href:"#filter-callback","aria-label":"Permalink to “filter(callback)”"},"​")],-1),e("blockquote",null,[e("p",{Callable:""},"callback"),e("p",null,"返回{UiObject[]} 返回控件对象")],-1),i(`<p>对当前查找到的UiObject数组进行过滤，过滤的时候执行callback方法，该方法返回false，则对应的UiObject被过滤掉</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>let ui = UiSelector().filter((v)=&gt;{</span></span>
<span class="line"><span>    return v &amp;&amp; v.bounds() &amp;&amp; v.bounds().left &gt; 100 &amp;&amp; v.bounds().top &gt; 300;//获取左边距大于100px，上边距大于300px的控件</span></span>
<span class="line"><span>}).findOne();</span></span></code></pre></div><h2 id="exist" tabindex="-1">exist() <a class="header-anchor" href="#exist" aria-label="Permalink to “exist()”">​</a></h2>`,3),e("blockquote",null,[e("p",{string:""},"content"),e("p",null,"返回 {boolean} 返回是否存在")],-1),e("p",null,"判断当前选择器是否能匹配到UiObject控件信息。",-1),e("h2",{id:"waitfindone",tabindex:"-1"},[a("waitFindOne() "),e("a",{class:"header-anchor",href:"#waitfindone","aria-label":"Permalink to “waitFindOne()”"},"​")],-1),e("blockquote",null,[e("p",null,"返回 {UiObject} 返回控件对象")],-1),e("p",null,"一直阻塞，直到某个控件对象出现在屏幕上",-1),e("h2",{id:"find",tabindex:"-1"},[a("find() "),e("a",{class:"header-anchor",href:"#find","aria-label":"Permalink to “find()”"},"​")],-1),e("blockquote",null,[e("p",{"UiObject[]":""},"返回")],-1),e("p",null,"获取当前选择器筛选的所有UiObject控件。",-1),e("h2",{id:"findby-uiselector",tabindex:"-1"},[a("findBy(uiSelector) "),e("a",{class:"header-anchor",href:"#findby-uiselector","aria-label":"Permalink to “findBy(uiSelector)”"},"​")],-1),e("blockquote",null,[e("p",{UiSelector:""},"uiSelector"),e("p",{"UiObject[]":""},"返回")],-1),e("p",null,"获取当前选择器筛选的所有UiObject控件（a）中查找符合uiSelector选择器的UiObject；从a集合查找，然后遍历它们的子控件、子控件的子控件，直到a下面的所有控件都被查找一遍才结束。",-1),e("h2",{id:"findby-timeout",tabindex:"-1"},[a("findBy(timeout) "),e("a",{class:"header-anchor",href:"#findby-timeout","aria-label":"Permalink to “findBy(timeout)”"},"​")],-1),e("blockquote",null,[e("p",{int:""},"timeout"),e("p",{"UiObject[]":""},"返回")],-1),e("p",null,"获取当前选择器筛选的所有UiObject控件，如果控件一直没有出现，则最大等待timeout毫秒。",-1),e("h2",{id:"findone",tabindex:"-1"},[a("findOne() "),e("a",{class:"header-anchor",href:"#findone","aria-label":"Permalink to “findOne()”"},"​")],-1),e("blockquote",null,[e("p",{UiObject:""},"返回")],-1),e("p",null,"获取当前选择器筛选的第一个UiObject控件。",-1),e("h2",{id:"findonce",tabindex:"-1"},[a("findOnce() "),e("a",{class:"header-anchor",href:"#findonce","aria-label":"Permalink to “findOnce()”"},"​")],-1),e("blockquote",null,[e("p",{UiObject:""},"返回")],-1),e("p",null,"获取当前选择器筛选的第一个UiObject控件。",-1),e("h2",{id:"findone-uiselector",tabindex:"-1"},[a("findOne(uiSelector) "),e("a",{class:"header-anchor",href:"#findone-uiselector","aria-label":"Permalink to “findOne(uiSelector)”"},"​")],-1),e("blockquote",null,[e("p",{UiSelector:""},"uiSelector"),e("p",{UiObject:""},"返回")],-1),e("p",null,"获取当前选择器筛选的第一个UiObject控件（a）中查找符合uiSelector选择器的UiObject；从a集合查找，然后遍历它们的子控件、子控件的子控件，直到a下面的所有控件都被查找一遍才结束。",-1),e("h2",{id:"findoneby-uiselector",tabindex:"-1"},[a("findOneBy(uiSelector) "),e("a",{class:"header-anchor",href:"#findoneby-uiselector","aria-label":"Permalink to “findOneBy(uiSelector)”"},"​")],-1),e("blockquote",null,[e("p",{UiSelector:""},"uiSelector"),e("p",{"UiObject[]":""},"返回")],-1),e("p",null,"与findBy类似，区别是找到一个符合条件的控件，立马返回",-1),e("h2",{id:"findoneby-timeout",tabindex:"-1"},[a("findOneBy(timeout) "),e("a",{class:"header-anchor",href:"#findoneby-timeout","aria-label":"Permalink to “findOneBy(timeout)”"},"​")],-1),e("blockquote",null,[e("p",{int:""},"timeout"),e("p",{"UiObject[]":""},"返回")],-1),e("p",null,"与findBy类似，区别是找到一个符合条件的控件，立马返回",-1)]))}const g=n(o,[["render",c]]);export{u as __pageData,g as default};
